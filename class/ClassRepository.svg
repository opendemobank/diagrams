<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1161px" preserveAspectRatio="none" style="width:862px;height:1161px;background:#FFFFFF;" version="1.1" viewBox="0 0 862 1161" width="862px" zoomAndPan="magnify"><defs><filter height="300%" id="f1980qylg6ubyn" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[bd0bd4c41e0e5269e37474fd45a6abb7]
cluster repository--><rect fill="#87CEEB" filter="url(#f1980qylg6ubyn)" height="1066" style="stroke:#000000;stroke-width:1.5;" width="256" x="267.5" y="81"/><rect fill="#87CEEB" height="10" style="stroke:#000000;stroke-width:1.5;" width="15" x="503.5" y="86"/><rect fill="#87CEEB" height="2" style="stroke:#000000;stroke-width:1.5;" width="4" x="501.5" y="88"/><rect fill="#87CEEB" height="2" style="stroke:#000000;stroke-width:1.5;" width="4" x="501.5" y="92"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="113" x="339" y="108.5332">&lt;&lt;Component&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="76" x="357.5" y="126.1426">Repository</text><!--MD5=[27f772719433d509ddbc20ff768eba08]
cluster domain--><rect fill="#FFD700" filter="url(#f1980qylg6ubyn)" height="1052" style="stroke:#000000;stroke-width:1.5;" width="190" x="53.5" y="88"/><rect fill="#FFD700" height="10" style="stroke:#000000;stroke-width:1.5;" width="15" x="223.5" y="93"/><rect fill="#FFD700" height="2" style="stroke:#000000;stroke-width:1.5;" width="4" x="221.5" y="95"/><rect fill="#FFD700" height="2" style="stroke:#000000;stroke-width:1.5;" width="4" x="221.5" y="99"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="113" x="92" y="115.5332">&lt;&lt;Component&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="52" x="122.5" y="133.1426">Domain</text><!--MD5=[cd09a31e374d3ba35fd45e1567298dba]
cluster org.springframework.data.jpa.repository--><polygon fill="#FFFFFF" filter="url(#f1980qylg6ubyn)" points="547.5,106,835.5,106,842.5,129.6094,845.5,129.6094,845.5,206,547.5,206,547.5,106" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="547.5" x2="842.5" y1="129.6094" y2="129.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="282" x="551.5" y="122.5332">org.springframework.data.jpa.repository</text><!--MD5=[20776e890796aa6b297ed820009aeef6]
class UsersRepo--><rect codeLine="14" fill="#FEFECE" filter="url(#f1980qylg6ubyn)" height="61.8359" id="UsersRepo" style="stroke:#A80036;stroke-width:1.5;" width="130" x="286.5" y="135"/><ellipse cx="317.7" cy="151" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M318.6531,147.6406 L318.6531,154.2969 L320.3719,154.2969 Q320.9813,154.2969 321.2469,154.5313 Q321.5125,154.7656 321.5125,155.1563 Q321.5125,155.5313 321.2469,155.7656 Q320.9813,156 320.3719,156 L315.2313,156 Q314.6219,156 314.3563,155.7656 Q314.0906,155.5313 314.0906,155.1406 Q314.0906,154.7656 314.3563,154.5313 Q314.6219,154.2969 315.2313,154.2969 L316.95,154.2969 L316.95,147.6406 L315.2313,147.6406 Q314.6219,147.6406 314.3563,147.4063 Q314.0906,147.1719 314.0906,146.7813 Q314.0906,146.4063 314.3563,146.1719 Q314.6219,145.9375 315.2313,145.9375 L320.3719,145.9375 Q320.9813,145.9375 321.2469,146.1719 Q321.5125,146.4063 321.5125,146.7813 Q321.5125,147.1719 321.2469,147.4063 Q320.9813,147.6406 320.3719,147.6406 L318.6531,147.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="62" x="335.3" y="155.9102">UsersRepo</text><line style="stroke:#A80036;stroke-width:1.5;" x1="287.5" x2="415.5" y1="167" y2="167"/><line style="stroke:#A80036;stroke-width:1.5;" x1="287.5" x2="415.5" y1="175" y2="175"/><ellipse cx="297.5" cy="186" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="104" x="306.5" y="190.4189">User findById(long id)</text><!--MD5=[59eb87ef88f9b87b21e96ec07c1e6969]
class CustomersRepo--><rect codeLine="18" fill="#FEFECE" filter="url(#f1980qylg6ubyn)" height="61.8359" id="CustomersRepo" style="stroke:#A80036;stroke-width:1.5;" width="153" x="284" y="365"/><ellipse cx="312.95" cy="381" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M313.9031,377.6406 L313.9031,384.2969 L315.6219,384.2969 Q316.2313,384.2969 316.4969,384.5313 Q316.7625,384.7656 316.7625,385.1563 Q316.7625,385.5313 316.4969,385.7656 Q316.2313,386 315.6219,386 L310.4813,386 Q309.8719,386 309.6063,385.7656 Q309.3406,385.5313 309.3406,385.1406 Q309.3406,384.7656 309.6063,384.5313 Q309.8719,384.2969 310.4813,384.2969 L312.2,384.2969 L312.2,377.6406 L310.4813,377.6406 Q309.8719,377.6406 309.6063,377.4063 Q309.3406,377.1719 309.3406,376.7813 Q309.3406,376.4063 309.6063,376.1719 Q309.8719,375.9375 310.4813,375.9375 L315.6219,375.9375 Q316.2313,375.9375 316.4969,376.1719 Q316.7625,376.4063 316.7625,376.7813 Q316.7625,377.1719 316.4969,377.4063 Q316.2313,377.6406 315.6219,377.6406 L313.9031,377.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="90" x="330.05" y="385.9102">CustomersRepo</text><line style="stroke:#A80036;stroke-width:1.5;" x1="285" x2="436" y1="397" y2="397"/><line style="stroke:#A80036;stroke-width:1.5;" x1="285" x2="436" y1="405" y2="405"/><ellipse cx="295" cy="416" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="127" x="304" y="420.4189">Customer findById(long id)</text><!--MD5=[ccb9a3d982c49c887df730845b4bc38f]
class AccountsRepo--><rect codeLine="22" fill="#FEFECE" filter="url(#f1980qylg6ubyn)" height="75.6719" id="AccountsRepo" style="stroke:#A80036;stroke-width:1.5;" width="223" x="284" y="595"/><ellipse cx="351.25" cy="611" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M352.2031,607.6406 L352.2031,614.2969 L353.9219,614.2969 Q354.5313,614.2969 354.7969,614.5313 Q355.0625,614.7656 355.0625,615.1563 Q355.0625,615.5313 354.7969,615.7656 Q354.5313,616 353.9219,616 L348.7813,616 Q348.1719,616 347.9063,615.7656 Q347.6406,615.5313 347.6406,615.1406 Q347.6406,614.7656 347.9063,614.5313 Q348.1719,614.2969 348.7813,614.2969 L350.5,614.2969 L350.5,607.6406 L348.7813,607.6406 Q348.1719,607.6406 347.9063,607.4063 Q347.6406,607.1719 347.6406,606.7813 Q347.6406,606.4063 347.9063,606.1719 Q348.1719,605.9375 348.7813,605.9375 L353.9219,605.9375 Q354.5313,605.9375 354.7969,606.1719 Q355.0625,606.4063 355.0625,606.7813 Q355.0625,607.1719 354.7969,607.4063 Q354.5313,607.6406 353.9219,607.6406 L352.2031,607.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="80" x="371.75" y="615.9102">AccountsRepo</text><line style="stroke:#A80036;stroke-width:1.5;" x1="285" x2="506" y1="627" y2="627"/><line style="stroke:#A80036;stroke-width:1.5;" x1="285" x2="506" y1="635" y2="635"/><ellipse cx="295" cy="646" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="122" x="304" y="650.4189">Account findById(long id)</text><ellipse cx="295" cy="659.8359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="197" x="304" y="664.2549">List&lt;Account&gt; findByCustomerId(long id)</text><!--MD5=[87b865dbee3a09092802f8d2a95bbdcf]
class TransactionsRepo--><rect codeLine="27" fill="#FEFECE" filter="url(#f1980qylg6ubyn)" height="61.8359" id="TransactionsRepo" style="stroke:#A80036;stroke-width:1.5;" width="148" x="284.5" y="839"/><ellipse cx="306.7" cy="855" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M307.6531,851.6406 L307.6531,858.2969 L309.3719,858.2969 Q309.9813,858.2969 310.2469,858.5313 Q310.5125,858.7656 310.5125,859.1563 Q310.5125,859.5313 310.2469,859.7656 Q309.9813,860 309.3719,860 L304.2313,860 Q303.6219,860 303.3563,859.7656 Q303.0906,859.5313 303.0906,859.1406 Q303.0906,858.7656 303.3563,858.5313 Q303.6219,858.2969 304.2313,858.2969 L305.95,858.2969 L305.95,851.6406 L304.2313,851.6406 Q303.6219,851.6406 303.3563,851.4063 Q303.0906,851.1719 303.0906,850.7813 Q303.0906,850.4063 303.3563,850.1719 Q303.6219,849.9375 304.2313,849.9375 L309.3719,849.9375 Q309.9813,849.9375 310.2469,850.1719 Q310.5125,850.4063 310.5125,850.7813 Q310.5125,851.1719 310.2469,851.4063 Q309.9813,851.6406 309.3719,851.6406 L307.6531,851.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="100" x="322.3" y="859.9102">TransactionsRepo</text><line style="stroke:#A80036;stroke-width:1.5;" x1="285.5" x2="431.5" y1="871" y2="871"/><line style="stroke:#A80036;stroke-width:1.5;" x1="285.5" x2="431.5" y1="879" y2="879"/><ellipse cx="295.5" cy="890" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="122" x="304.5" y="894.4189">Account findById(long id)</text><!--MD5=[a22cb3f875ee40bdc44f4a55c714cbe4]
class TransactionsLogRepo--><rect codeLine="31" fill="#FEFECE" filter="url(#f1980qylg6ubyn)" height="61.8359" id="TransactionsLogRepo" style="stroke:#A80036;stroke-width:1.5;" width="153" x="284" y="1069"/><ellipse cx="299" cy="1085" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M299.9531,1081.6406 L299.9531,1088.2969 L301.6719,1088.2969 Q302.2813,1088.2969 302.5469,1088.5313 Q302.8125,1088.7656 302.8125,1089.1563 Q302.8125,1089.5313 302.5469,1089.7656 Q302.2813,1090 301.6719,1090 L296.5313,1090 Q295.9219,1090 295.6563,1089.7656 Q295.3906,1089.5313 295.3906,1089.1406 Q295.3906,1088.7656 295.6563,1088.5313 Q295.9219,1088.2969 296.5313,1088.2969 L298.25,1088.2969 L298.25,1081.6406 L296.5313,1081.6406 Q295.9219,1081.6406 295.6563,1081.4063 Q295.3906,1081.1719 295.3906,1080.7813 Q295.3906,1080.4063 295.6563,1080.1719 Q295.9219,1079.9375 296.5313,1079.9375 L301.6719,1079.9375 Q302.2813,1079.9375 302.5469,1080.1719 Q302.8125,1080.4063 302.8125,1080.7813 Q302.8125,1081.1719 302.5469,1081.4063 Q302.2813,1081.6406 301.6719,1081.6406 L299.9531,1081.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="121" x="313" y="1089.9102">TransactionsLogRepo</text><line style="stroke:#A80036;stroke-width:1.5;" x1="285" x2="436" y1="1101" y2="1101"/><line style="stroke:#A80036;stroke-width:1.5;" x1="285" x2="436" y1="1109" y2="1109"/><ellipse cx="295" cy="1120" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="122" x="304" y="1124.4189">Account findById(long id)</text><!--MD5=[d0ff23a00683977d87fe89c795304054]
class IUsersRepo--><rect codeLine="37" fill="#FEFECE" filter="url(#f1980qylg6ubyn)" height="48" id="IUsersRepo" style="stroke:#A80036;stroke-width:1.5;" width="98" x="129.5" y="142"/><ellipse cx="144.5" cy="158" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M145.4531,154.6406 L145.4531,161.2969 L147.1719,161.2969 Q147.7813,161.2969 148.0469,161.5313 Q148.3125,161.7656 148.3125,162.1563 Q148.3125,162.5313 148.0469,162.7656 Q147.7813,163 147.1719,163 L142.0313,163 Q141.4219,163 141.1563,162.7656 Q140.8906,162.5313 140.8906,162.1406 Q140.8906,161.7656 141.1563,161.5313 Q141.4219,161.2969 142.0313,161.2969 L143.75,161.2969 L143.75,154.6406 L142.0313,154.6406 Q141.4219,154.6406 141.1563,154.4063 Q140.8906,154.1719 140.8906,153.7813 Q140.8906,153.4063 141.1563,153.1719 Q141.4219,152.9375 142.0313,152.9375 L147.1719,152.9375 Q147.7813,152.9375 148.0469,153.1719 Q148.3125,153.4063 148.3125,153.7813 Q148.3125,154.1719 148.0469,154.4063 Q147.7813,154.6406 147.1719,154.6406 L145.4531,154.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="66" x="158.5" y="162.9102">IUsersRepo</text><line style="stroke:#A80036;stroke-width:1.5;" x1="130.5" x2="226.5" y1="174" y2="174"/><line style="stroke:#A80036;stroke-width:1.5;" x1="130.5" x2="226.5" y1="182" y2="182"/><!--MD5=[3fd616f346a44cd59a91eb10b19e157c]
class User--><rect codeLine="38" fill="#FEFECE" filter="url(#f1980qylg6ubyn)" height="48" id="User" style="stroke:#A80036;stroke-width:1.5;" width="59" x="149" y="257"/><ellipse cx="164" cy="273" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M166.7656,268.875 Q166.9219,268.6563 167.1094,268.5469 Q167.2969,268.4375 167.5156,268.4375 Q167.8906,268.4375 168.125,268.7031 Q168.3594,268.9531 168.3594,269.5625 L168.3594,271.0156 Q168.3594,271.625 168.125,271.8906 Q167.8906,272.1563 167.5156,272.1563 Q167.1719,272.1563 166.9688,271.9531 Q166.7656,271.7656 166.6563,271.25 Q166.6094,270.8906 166.4219,270.7031 Q166.0938,270.3281 165.4844,270.1094 Q164.875,269.8906 164.25,269.8906 Q163.4844,269.8906 162.8438,270.2188 Q162.2188,270.5469 161.7188,271.2969 Q161.2344,272.0469 161.2344,273.0781 L161.2344,274.1719 Q161.2344,275.4063 162.125,276.2344 Q163.0156,277.0469 164.6094,277.0469 Q165.5469,277.0469 166.2031,276.7969 Q166.5938,276.6406 167.0156,276.2031 Q167.2813,275.9375 167.4219,275.8594 Q167.5781,275.7813 167.7813,275.7813 Q168.1094,275.7813 168.3594,276.0469 Q168.625,276.2969 168.625,276.6406 Q168.625,276.9844 168.2813,277.3906 Q167.7813,277.9688 166.9844,278.2969 Q165.9063,278.75 164.6094,278.75 Q163.0938,278.75 161.8906,278.125 Q160.9063,277.625 160.2188,276.5625 Q159.5313,275.4844 159.5313,274.2031 L159.5313,273.0469 Q159.5313,271.7188 160.1406,270.5781 Q160.7656,269.4219 161.8594,268.8125 Q162.9531,268.1875 164.1875,268.1875 Q164.9219,268.1875 165.5625,268.3594 Q166.2188,268.5156 166.7656,268.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="27" x="178" y="277.9102">User</text><line style="stroke:#A80036;stroke-width:1.5;" x1="150" x2="207" y1="289" y2="289"/><line style="stroke:#A80036;stroke-width:1.5;" x1="150" x2="207" y1="297" y2="297"/><!--MD5=[002ae683d7f409c5ece12e53748bdc0a]
class ICustomersRepo--><rect codeLine="39" fill="#FEFECE" filter="url(#f1980qylg6ubyn)" height="48" id="ICustomersRepo" style="stroke:#A80036;stroke-width:1.5;" width="126" x="101.5" y="372"/><ellipse cx="116.5" cy="388" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M117.4531,384.6406 L117.4531,391.2969 L119.1719,391.2969 Q119.7813,391.2969 120.0469,391.5313 Q120.3125,391.7656 120.3125,392.1563 Q120.3125,392.5313 120.0469,392.7656 Q119.7813,393 119.1719,393 L114.0313,393 Q113.4219,393 113.1563,392.7656 Q112.8906,392.5313 112.8906,392.1406 Q112.8906,391.7656 113.1563,391.5313 Q113.4219,391.2969 114.0313,391.2969 L115.75,391.2969 L115.75,384.6406 L114.0313,384.6406 Q113.4219,384.6406 113.1563,384.4063 Q112.8906,384.1719 112.8906,383.7813 Q112.8906,383.4063 113.1563,383.1719 Q113.4219,382.9375 114.0313,382.9375 L119.1719,382.9375 Q119.7813,382.9375 120.0469,383.1719 Q120.3125,383.4063 120.3125,383.7813 Q120.3125,384.1719 120.0469,384.4063 Q119.7813,384.6406 119.1719,384.6406 L117.4531,384.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="94" x="130.5" y="392.9102">ICustomersRepo</text><line style="stroke:#A80036;stroke-width:1.5;" x1="102.5" x2="226.5" y1="404" y2="404"/><line style="stroke:#A80036;stroke-width:1.5;" x1="102.5" x2="226.5" y1="412" y2="412"/><!--MD5=[2ce0c9fb7f55b1e256ab28a8ea6b25ec]
class Customer--><rect codeLine="40" fill="#FEFECE" filter="url(#f1980qylg6ubyn)" height="48" id="Customer" style="stroke:#A80036;stroke-width:1.5;" width="87" x="126" y="487"/><ellipse cx="141" cy="503" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M143.7656,498.875 Q143.9219,498.6563 144.1094,498.5469 Q144.2969,498.4375 144.5156,498.4375 Q144.8906,498.4375 145.125,498.7031 Q145.3594,498.9531 145.3594,499.5625 L145.3594,501.0156 Q145.3594,501.625 145.125,501.8906 Q144.8906,502.1563 144.5156,502.1563 Q144.1719,502.1563 143.9688,501.9531 Q143.7656,501.7656 143.6563,501.25 Q143.6094,500.8906 143.4219,500.7031 Q143.0938,500.3281 142.4844,500.1094 Q141.875,499.8906 141.25,499.8906 Q140.4844,499.8906 139.8438,500.2188 Q139.2188,500.5469 138.7188,501.2969 Q138.2344,502.0469 138.2344,503.0781 L138.2344,504.1719 Q138.2344,505.4063 139.125,506.2344 Q140.0156,507.0469 141.6094,507.0469 Q142.5469,507.0469 143.2031,506.7969 Q143.5938,506.6406 144.0156,506.2031 Q144.2813,505.9375 144.4219,505.8594 Q144.5781,505.7813 144.7813,505.7813 Q145.1094,505.7813 145.3594,506.0469 Q145.625,506.2969 145.625,506.6406 Q145.625,506.9844 145.2813,507.3906 Q144.7813,507.9688 143.9844,508.2969 Q142.9063,508.75 141.6094,508.75 Q140.0938,508.75 138.8906,508.125 Q137.9063,507.625 137.2188,506.5625 Q136.5313,505.4844 136.5313,504.2031 L136.5313,503.0469 Q136.5313,501.7188 137.1406,500.5781 Q137.7656,499.4219 138.8594,498.8125 Q139.9531,498.1875 141.1875,498.1875 Q141.9219,498.1875 142.5625,498.3594 Q143.2188,498.5156 143.7656,498.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="55" x="155" y="507.9102">Customer</text><line style="stroke:#A80036;stroke-width:1.5;" x1="127" x2="212" y1="519" y2="519"/><line style="stroke:#A80036;stroke-width:1.5;" x1="127" x2="212" y1="527" y2="527"/><!--MD5=[84f2a341280963c6818f86475dcd9e4a]
class IAccountsRepo--><rect codeLine="41" fill="#FEFECE" filter="url(#f1980qylg6ubyn)" height="48" id="IAccountsRepo" style="stroke:#A80036;stroke-width:1.5;" width="116" x="111.5" y="609"/><ellipse cx="126.5" cy="625" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M127.4531,621.6406 L127.4531,628.2969 L129.1719,628.2969 Q129.7813,628.2969 130.0469,628.5313 Q130.3125,628.7656 130.3125,629.1563 Q130.3125,629.5313 130.0469,629.7656 Q129.7813,630 129.1719,630 L124.0313,630 Q123.4219,630 123.1563,629.7656 Q122.8906,629.5313 122.8906,629.1406 Q122.8906,628.7656 123.1563,628.5313 Q123.4219,628.2969 124.0313,628.2969 L125.75,628.2969 L125.75,621.6406 L124.0313,621.6406 Q123.4219,621.6406 123.1563,621.4063 Q122.8906,621.1719 122.8906,620.7813 Q122.8906,620.4063 123.1563,620.1719 Q123.4219,619.9375 124.0313,619.9375 L129.1719,619.9375 Q129.7813,619.9375 130.0469,620.1719 Q130.3125,620.4063 130.3125,620.7813 Q130.3125,621.1719 130.0469,621.4063 Q129.7813,621.6406 129.1719,621.6406 L127.4531,621.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="84" x="140.5" y="629.9102">IAccountsRepo</text><line style="stroke:#A80036;stroke-width:1.5;" x1="112.5" x2="226.5" y1="641" y2="641"/><line style="stroke:#A80036;stroke-width:1.5;" x1="112.5" x2="226.5" y1="649" y2="649"/><!--MD5=[f9a29335b499db729be669fd1bd54958]
class Account--><rect codeLine="42" fill="#FEFECE" filter="url(#f1980qylg6ubyn)" height="48" id="Account" style="stroke:#A80036;stroke-width:1.5;" width="75" x="132" y="731"/><ellipse cx="147" cy="747" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M149.7656,742.875 Q149.9219,742.6563 150.1094,742.5469 Q150.2969,742.4375 150.5156,742.4375 Q150.8906,742.4375 151.125,742.7031 Q151.3594,742.9531 151.3594,743.5625 L151.3594,745.0156 Q151.3594,745.625 151.125,745.8906 Q150.8906,746.1563 150.5156,746.1563 Q150.1719,746.1563 149.9688,745.9531 Q149.7656,745.7656 149.6563,745.25 Q149.6094,744.8906 149.4219,744.7031 Q149.0938,744.3281 148.4844,744.1094 Q147.875,743.8906 147.25,743.8906 Q146.4844,743.8906 145.8438,744.2188 Q145.2188,744.5469 144.7188,745.2969 Q144.2344,746.0469 144.2344,747.0781 L144.2344,748.1719 Q144.2344,749.4063 145.125,750.2344 Q146.0156,751.0469 147.6094,751.0469 Q148.5469,751.0469 149.2031,750.7969 Q149.5938,750.6406 150.0156,750.2031 Q150.2813,749.9375 150.4219,749.8594 Q150.5781,749.7813 150.7813,749.7813 Q151.1094,749.7813 151.3594,750.0469 Q151.625,750.2969 151.625,750.6406 Q151.625,750.9844 151.2813,751.3906 Q150.7813,751.9688 149.9844,752.2969 Q148.9063,752.75 147.6094,752.75 Q146.0938,752.75 144.8906,752.125 Q143.9063,751.625 143.2188,750.5625 Q142.5313,749.4844 142.5313,748.2031 L142.5313,747.0469 Q142.5313,745.7188 143.1406,744.5781 Q143.7656,743.4219 144.8594,742.8125 Q145.9531,742.1875 147.1875,742.1875 Q147.9219,742.1875 148.5625,742.3594 Q149.2188,742.5156 149.7656,742.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="43" x="161" y="751.9102">Account</text><line style="stroke:#A80036;stroke-width:1.5;" x1="133" x2="206" y1="763" y2="763"/><line style="stroke:#A80036;stroke-width:1.5;" x1="133" x2="206" y1="771" y2="771"/><!--MD5=[ce8da3c268ad22531c71932ed6f7c72d]
class ITransactionsRepo--><rect codeLine="43" fill="#FEFECE" filter="url(#f1980qylg6ubyn)" height="48" id="ITransactionsRepo" style="stroke:#A80036;stroke-width:1.5;" width="136" x="91.5" y="846"/><ellipse cx="106.5" cy="862" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M107.4531,858.6406 L107.4531,865.2969 L109.1719,865.2969 Q109.7813,865.2969 110.0469,865.5313 Q110.3125,865.7656 110.3125,866.1563 Q110.3125,866.5313 110.0469,866.7656 Q109.7813,867 109.1719,867 L104.0313,867 Q103.4219,867 103.1563,866.7656 Q102.8906,866.5313 102.8906,866.1406 Q102.8906,865.7656 103.1563,865.5313 Q103.4219,865.2969 104.0313,865.2969 L105.75,865.2969 L105.75,858.6406 L104.0313,858.6406 Q103.4219,858.6406 103.1563,858.4063 Q102.8906,858.1719 102.8906,857.7813 Q102.8906,857.4063 103.1563,857.1719 Q103.4219,856.9375 104.0313,856.9375 L109.1719,856.9375 Q109.7813,856.9375 110.0469,857.1719 Q110.3125,857.4063 110.3125,857.7813 Q110.3125,858.1719 110.0469,858.4063 Q109.7813,858.6406 109.1719,858.6406 L107.4531,858.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="104" x="120.5" y="866.9102">ITransactionsRepo</text><line style="stroke:#A80036;stroke-width:1.5;" x1="92.5" x2="226.5" y1="878" y2="878"/><line style="stroke:#A80036;stroke-width:1.5;" x1="92.5" x2="226.5" y1="886" y2="886"/><!--MD5=[4555bb1b0911a5adf28ce6dbe60fed2e]
class Transaction--><rect codeLine="44" fill="#FEFECE" filter="url(#f1980qylg6ubyn)" height="48" id="Transaction" style="stroke:#A80036;stroke-width:1.5;" width="97" x="120" y="961"/><ellipse cx="135" cy="977" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M137.7656,972.875 Q137.9219,972.6563 138.1094,972.5469 Q138.2969,972.4375 138.5156,972.4375 Q138.8906,972.4375 139.125,972.7031 Q139.3594,972.9531 139.3594,973.5625 L139.3594,975.0156 Q139.3594,975.625 139.125,975.8906 Q138.8906,976.1563 138.5156,976.1563 Q138.1719,976.1563 137.9688,975.9531 Q137.7656,975.7656 137.6563,975.25 Q137.6094,974.8906 137.4219,974.7031 Q137.0938,974.3281 136.4844,974.1094 Q135.875,973.8906 135.25,973.8906 Q134.4844,973.8906 133.8438,974.2188 Q133.2188,974.5469 132.7188,975.2969 Q132.2344,976.0469 132.2344,977.0781 L132.2344,978.1719 Q132.2344,979.4063 133.125,980.2344 Q134.0156,981.0469 135.6094,981.0469 Q136.5469,981.0469 137.2031,980.7969 Q137.5938,980.6406 138.0156,980.2031 Q138.2813,979.9375 138.4219,979.8594 Q138.5781,979.7813 138.7813,979.7813 Q139.1094,979.7813 139.3594,980.0469 Q139.625,980.2969 139.625,980.6406 Q139.625,980.9844 139.2813,981.3906 Q138.7813,981.9688 137.9844,982.2969 Q136.9063,982.75 135.6094,982.75 Q134.0938,982.75 132.8906,982.125 Q131.9063,981.625 131.2188,980.5625 Q130.5313,979.4844 130.5313,978.2031 L130.5313,977.0469 Q130.5313,975.7188 131.1406,974.5781 Q131.7656,973.4219 132.8594,972.8125 Q133.9531,972.1875 135.1875,972.1875 Q135.9219,972.1875 136.5625,972.3594 Q137.2188,972.5156 137.7656,972.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="65" x="149" y="981.9102">Transaction</text><line style="stroke:#A80036;stroke-width:1.5;" x1="121" x2="216" y1="993" y2="993"/><line style="stroke:#A80036;stroke-width:1.5;" x1="121" x2="216" y1="1001" y2="1001"/><!--MD5=[102b03025ee24d4b51c425a88ecde043]
class ITransactionsLogRepo--><rect codeLine="45" fill="#FEFECE" filter="url(#f1980qylg6ubyn)" height="48" id="ITransactionsLogRepo" style="stroke:#A80036;stroke-width:1.5;" width="157" x="70" y="1076"/><ellipse cx="85" cy="1092" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M85.9531,1088.6406 L85.9531,1095.2969 L87.6719,1095.2969 Q88.2813,1095.2969 88.5469,1095.5313 Q88.8125,1095.7656 88.8125,1096.1563 Q88.8125,1096.5313 88.5469,1096.7656 Q88.2813,1097 87.6719,1097 L82.5313,1097 Q81.9219,1097 81.6563,1096.7656 Q81.3906,1096.5313 81.3906,1096.1406 Q81.3906,1095.7656 81.6563,1095.5313 Q81.9219,1095.2969 82.5313,1095.2969 L84.25,1095.2969 L84.25,1088.6406 L82.5313,1088.6406 Q81.9219,1088.6406 81.6563,1088.4063 Q81.3906,1088.1719 81.3906,1087.7813 Q81.3906,1087.4063 81.6563,1087.1719 Q81.9219,1086.9375 82.5313,1086.9375 L87.6719,1086.9375 Q88.2813,1086.9375 88.5469,1087.1719 Q88.8125,1087.4063 88.8125,1087.7813 Q88.8125,1088.1719 88.5469,1088.4063 Q88.2813,1088.6406 87.6719,1088.6406 L85.9531,1088.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="125" x="99" y="1096.9102">ITransactionsLogRepo</text><line style="stroke:#A80036;stroke-width:1.5;" x1="71" x2="226" y1="1108" y2="1108"/><line style="stroke:#A80036;stroke-width:1.5;" x1="71" x2="226" y1="1116" y2="1116"/><!--MD5=[9066e956ebe5b62a90d194ed6cf4a894]
class org.springframework.data.jpa.repository.JpaRepository--><rect codeLine="48" fill="#FEFECE" filter="url(#f1980qylg6ubyn)" height="48" id="org.springframework.data.jpa.repository.JpaRepository" style="stroke:#A80036;stroke-width:1.5;" width="111" x="564" y="142"/><ellipse cx="579" cy="158" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M579.9531,154.6406 L579.9531,161.2969 L581.6719,161.2969 Q582.2813,161.2969 582.5469,161.5313 Q582.8125,161.7656 582.8125,162.1563 Q582.8125,162.5313 582.5469,162.7656 Q582.2813,163 581.6719,163 L576.5313,163 Q575.9219,163 575.6563,162.7656 Q575.3906,162.5313 575.3906,162.1406 Q575.3906,161.7656 575.6563,161.5313 Q575.9219,161.2969 576.5313,161.2969 L578.25,161.2969 L578.25,154.6406 L576.5313,154.6406 Q575.9219,154.6406 575.6563,154.4063 Q575.3906,154.1719 575.3906,153.7813 Q575.3906,153.4063 575.6563,153.1719 Q575.9219,152.9375 576.5313,152.9375 L581.6719,152.9375 Q582.2813,152.9375 582.5469,153.1719 Q582.8125,153.4063 582.8125,153.7813 Q582.8125,154.1719 582.5469,154.4063 Q582.2813,154.6406 581.6719,154.6406 L579.9531,154.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="79" x="593" y="162.9102">JpaRepository</text><line style="stroke:#A80036;stroke-width:1.5;" x1="565" x2="674" y1="174" y2="174"/><line style="stroke:#A80036;stroke-width:1.5;" x1="565" x2="674" y1="182" y2="182"/><path d="M422,22.5 L422,48.8516 A0,0 0 0 0 422,48.8516 L488.82,48.8516 L388.19,134.78 L496.82,48.8516 L593,48.8516 A0,0 0 0 0 593,48.8516 L593,32.5 L583,22.5 L422,22.5 A0,0 0 0 0 422,22.5 " fill="#FBFB77" filter="url(#f1980qylg6ubyn)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M583,22.5 L583,32.5 L593,32.5 L583,22.5 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="428" y="40.9951">TODO: add new methods.</text><path d="M6,6 L6,65.0547 L387,65.0547 L387,16 L377,6 L6,6 " fill="#FBFB77" filter="url(#f1980qylg6ubyn)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M377,6 L377,16 L387,16 L377,6 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="226" x="12" y="24.4951">Idea here is to invert dependencies that</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="360" x="12" y="40.8467">Domain layer would not know anything about Repository layer,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179" x="12" y="57.1982">in this case Spring JPA magic.</text><!--MD5=[aae43b8aaf9c157c56e8b57f4f395ad5]
link UsersRepo to IUsersRepo--><path codeLine="50" d="M286.28,166 C273.5,166 260.71,166 247.93,166 " fill="none" id="UsersRepo-to-IUsersRepo" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="247.83,173,227.83,166,247.83,159,247.83,173" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[78d4ec87c63295a15453a85401220cbe]
link UsersRepo to User--><path codeLine="51" d="M305.14,197.28 C276,216.32 239.05,240.45 212.59,257.73 " fill="none" id="UsersRepo-to-User" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="208.11,260.66,217.8339,259.0961,212.2986,257.9295,213.4651,252.3943,208.11,260.66" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[8e79af4426cd8b92acf2611de6a1d6bd]
link UsersRepo to CustomersRepo--><!--MD5=[039ad30bf0e176605d6f15e86a52e318]
link CustomersRepo to ICustomersRepo--><path codeLine="54" d="M283.96,396 C271.94,396 259.92,396 247.9,396 " fill="none" id="CustomersRepo-to-ICustomersRepo" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="247.66,403,227.66,396,247.66,389,247.66,403" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[32c1685c73a7f0814a315a42f2537228]
link CustomersRepo to Customer--><path codeLine="55" d="M309.57,427.13 C279.46,444.94 241.74,467.26 213.03,484.25 " fill="none" id="CustomersRepo-to-Customer" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="208.5,486.93,218.2845,485.8061,212.8075,484.3912,214.2224,478.9141,208.5,486.93" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[ebd49cbe30ad6ec1ae15b8579851aab1]
link CustomersRepo to AccountsRepo--><!--MD5=[38b8c7fb0620b5d3c78957f03b3b138e]
link AccountsRepo to IAccountsRepo--><path codeLine="58" d="M283.79,633 C271.82,633 259.86,633 247.9,633 " fill="none" id="AccountsRepo-to-IAccountsRepo" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="247.77,640,227.77,633,247.77,626,247.77,640" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[8ce016fa754a155962b11986ac3d0951]
link AccountsRepo to Account--><path codeLine="59" d="M325.54,671.15 C288.35,690.89 243.84,714.53 211.9,731.49 " fill="none" id="AccountsRepo-to-Account" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="207.28,733.94,217.1032,733.2292,211.6906,731.5848,213.3349,726.1722,207.28,733.94" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[e6b37619cffc6b0c4cf2eb28f8d3e2d9]
link AccountsRepo to TransactionsRepo--><!--MD5=[3d397610442f5620aff5dba38ea5dccb]
link TransactionsRepo to ITransactionsRepo--><path codeLine="62" d="M284.31,870 C272.18,870 260.06,870 247.93,870 " fill="none" id="TransactionsRepo-to-ITransactionsRepo" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="247.52,877,227.52,870,247.52,863,247.52,877" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[90e20abe83c371cc28dd9f4c4e8efaea]
link TransactionsRepo to Transaction--><path codeLine="63" d="M307.58,901.28 C277.64,919.09 240.18,941.37 211.69,958.31 " fill="none" id="TransactionsRepo-to-Transaction" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="207.19,960.99,216.97,959.8278,211.4875,958.4343,212.881,952.9518,207.19,960.99" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[a5d034b99d81d1e723b87cf247af1cdd]
link TransactionsRepo to TransactionsLogRepo--><!--MD5=[94fb7b3f0badea557926f51fb47016e0]
link TransactionsLogRepo to ITransactionsLogRepo--><path codeLine="66" d="M283.94,1100 C271.82,1100 259.7,1100 247.57,1100 " fill="none" id="TransactionsLogRepo-to-ITransactionsLogRepo" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="247.17,1107,227.17,1100,247.17,1093,247.17,1107" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[0ca8ba16680bc10dee8a677e730a3979]
reverse link Transaction to TransactionsLogRepo--><path codeLine="67" d="M212.36,1011.81 C241.18,1028.77 278.99,1051.03 309.2,1068.81 " fill="none" id="Transaction-backto-TransactionsLogRepo" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="207.82,1009.14,213.5505,1017.1501,212.13,1011.6745,217.6057,1010.254,207.82,1009.14" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[89740977fd1acb003b8f81662033ac1a]
link IUsersRepo to User--><!--MD5=[d567dfb79ddaa48c88a55b8a460a437b]
link User to ICustomersRepo--><!--MD5=[143a0dcf59eb6a38c7d7f4ac0cb0679d]
link ICustomersRepo to Customer--><!--MD5=[6f98efc9c6ef465827f2174ffb883533]
link Customer to IAccountsRepo--><!--MD5=[9ff4578158bf875387dd15a1f2d5b101]
link IAccountsRepo to Account--><!--MD5=[b1491619241aff0ba2e4cac7e5e5e16c]
link Account to ITransactionsRepo--><!--MD5=[06d6765908ef881c0b232d0649a03510]
link ITransactionsRepo to Transaction--><!--MD5=[fee98cec76fd14768eb054bb9ec9f20e]
link Transaction to ITransactionsLogRepo--><!--MD5=[081a6f0694fe6961f888f269096744d6]
reverse link org.springframework.data.jpa.repository.JpaRepository to UsersRepo--><path codeLine="78" d="M543.55,166 C501.25,166 458.96,166 416.67,166 " fill="none" id="org.springframework.data.jpa.repository.JpaRepository-backto-UsersRepo" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="543.64,159,563.64,166,543.64,173,543.64,159" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[398b61d7af516a980e7a4c17ea566602]
reverse link org.springframework.data.jpa.repository.JpaRepository to CustomersRepo--><path codeLine="79" d="M578.06,203.48 C527.33,248.13 442.34,322.95 395,364.63 " fill="none" id="org.springframework.data.jpa.repository.JpaRepository-backto-CustomersRepo" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="573.6,198.08,593.24,190.12,582.85,208.59,573.6,198.08" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[639dbfe373bd81279c637056b395d3fd]
reverse link org.springframework.data.jpa.repository.JpaRepository to AccountsRepo--><path codeLine="80" d="M599.66,208.19 C556.49,297.81 454.61,509.29 413.33,594.98 " fill="none" id="org.springframework.data.jpa.repository.JpaRepository-backto-AccountsRepo" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="593.41,205.04,608.39,190.06,606.02,211.12,593.41,205.04" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[b44941e247b9a987a775c0aaa661bae3]
link note2 to UsersRepo--><path codeLine="93" d="M233.57,65.04 C236.94,67.71 240.29,70.39 243.5,73 C268.34,93.21 295.8,116.62 316.82,134.76 " fill="none" id="note2-UsersRepo" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[826a2e99601d153ad792fffaf4a4c76c]
@startuml ClassRepository

skinparam class {
    BackgroundColor<<Repository>> SkyBlue
    BorderColor<<Repository>> Navy
    BackgroundColor<<Access>> Snow
    BorderColor<<Access>> Plum
    BackgroundColor<<Integration>> SandyBrown
    BorderColor<<Integration>> Tomato
    BackgroundColor<<Domain>> Gold
    BorderColor<<Domain>> Red
}

component "<<Component>>\nRepository" as repository #SkyBlue {
    interface UsersRepo {
        + User findById(long id)
    }

    interface CustomersRepo {
        + Customer findById(long id)
    }

    interface AccountsRepo {
        + Account findById(long id)
        + List<Account> findByCustomerId(long id)
    }

    interface TransactionsRepo {
        + Account findById(long id)
    }

    interface TransactionsLogRepo {
        + Account findById(long id)
    }
}

component "<<Component>>\nDomain" as domain #Gold {
    interface IUsersRepo
    class User
    interface ICustomersRepo
    class Customer
    interface IAccountsRepo
    class Account
    interface ITransactionsRepo
    class Transaction
    interface ITransactionsLogRepo
}

interface org.springframework.data.jpa.repository.JpaRepository

UsersRepo -|> IUsersRepo
UsersRepo - -> User
UsersRepo - - -[hidden]> CustomersRepo

CustomersRepo -|> ICustomersRepo
CustomersRepo - -> Customer
CustomersRepo - - -[hidden]> AccountsRepo

AccountsRepo -|> IAccountsRepo
AccountsRepo - -> Account
AccountsRepo - - -[hidden]> TransactionsRepo

TransactionsRepo -|> ITransactionsRepo
TransactionsRepo - -> Transaction
TransactionsRepo - - -[hidden]> TransactionsLogRepo

TransactionsLogRepo -|> ITransactionsLogRepo
TransactionsLogRepo -up-> Transaction

IUsersRepo - -[hidden]> User
User - -[hidden]> ICustomersRepo
ICustomersRepo - -[hidden]> Customer
Customer - -[hidden]> IAccountsRepo
IAccountsRepo - -[hidden]> Account
Account - -[hidden]> ITransactionsRepo
ITransactionsRepo - -[hidden]> Transaction
Transaction - -[hidden]> ITransactionsLogRepo

org.springframework.data.jpa.repository.JpaRepository <|- UsersRepo
org.springframework.data.jpa.repository.JpaRepository <|- - - CustomersRepo
org.springframework.data.jpa.repository.JpaRepository <|- - - - - AccountsRepo

note as note1
    TODO: add new methods.
end note

note as note2
    Idea here is to invert dependencies that
    Domain layer would not know anything about Repository layer,
    in this case Spring JPA magic.
end note

UsersRepo -up- note1
UsersRepo -up- note2

@enduml

PlantUML version 1.2021.7(Sun May 23 15:40:07 EEST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>