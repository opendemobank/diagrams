<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1264px" preserveAspectRatio="none" style="width:2041px;height:1264px;background:#FFFFFF;" version="1.1" viewBox="0 0 2041 1264" width="2041px" zoomAndPan="magnify"><defs/><g><rect fill="#FEFECE" height="1245.5313" style="stroke:#A80036;stroke-width:1.0;" width="152" x="561.5" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="146" x="564.5" y="18.0669">Presentation Layer</text><rect fill="#F4A460" height="1245.5313" style="stroke:#A80036;stroke-width:1.0;" width="563.5" x="865" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="130" x="1081.75" y="18.0669">Application Layer</text><rect fill="#87CEEB" height="1245.5313" style="stroke:#A80036;stroke-width:1.0;" width="573" x="1450.5" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="135" x="1669.5" y="18.0669">Persistence Layer</text><rect fill="#FFFFFF" height="1120.9688" style="stroke:#A80036;stroke-width:1.0;" width="10" x="349" y="118.5625"/><rect fill="#FFFFFF" height="214.7266" style="stroke:#A80036;stroke-width:1.0;" width="10" x="632.5" y="292.2578"/><rect fill="#FFFFFF" height="172.5938" style="stroke:#A80036;stroke-width:1.0;" width="10" x="632.5" y="579.25"/><rect fill="#FFFFFF" height="429.4219" style="stroke:#A80036;stroke-width:1.0;" width="10" x="632.5" y="780.9766"/><rect fill="#FFFFFF" height="161.5938" style="stroke:#A80036;stroke-width:1.0;" width="10" x="921" y="331.3906"/><rect fill="#FFFFFF" height="119.4609" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1071.5" y="618.3828"/><rect fill="#FFFFFF" height="386.2891" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1071.5" y="810.1094"/><rect fill="#D3D3D3" height="255.8906" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1076.5" y="890.375"/><rect fill="#FFFFFF" height="119.4609" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1348.5" y="934.5078"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="43" x2="43" y1="87.4297" y2="1257.5313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="354" x2="354" y1="87.4297" y2="1257.5313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="637" x2="637" y1="237.9766" y2="1257.5313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="926" x2="926" y1="339.4063" y2="1257.5313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1076" x2="1076" y1="626.3984" y2="1257.5313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1353.5" x2="1353.5" y1="942.5234" y2="1257.5313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1508.5" x2="1508.5" y1="446.8359" y2="1257.5313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1654.5" x2="1654.5" y1="691.6953" y2="1257.5313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1813.5" x2="1813.5" y1="1007.8203" y2="1257.5313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1955.5" x2="1955.5" y1="1108.1172" y2="1257.5313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="5" y="84.1279">Customer</text><ellipse cx="43" cy="18.1328" fill="#FEFECE" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M43,26.1328 L43,53.1328 M30,34.1328 L56,34.1328 M43,53.1328 L30,68.1328 M43,53.1328 L56,68.1328 " fill="none" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="301" y="84.1279">Administrator</text><ellipse cx="354" cy="18.1328" fill="#FEFECE" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M354,26.1328 L354,53.1328 M341,34.1328 L367,34.1328 M354,53.1328 L341,68.1328 M354,53.1328 L367,68.1328 " fill="none" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FFFFFF" height="1120.9688" style="stroke:#A80036;stroke-width:1.0;" width="10" x="349" y="118.5625"/><rect fill="#FFFFFF" height="214.7266" style="stroke:#A80036;stroke-width:1.0;" width="10" x="632.5" y="292.2578"/><rect fill="#FFFFFF" height="172.5938" style="stroke:#A80036;stroke-width:1.0;" width="10" x="632.5" y="579.25"/><rect fill="#FFFFFF" height="429.4219" style="stroke:#A80036;stroke-width:1.0;" width="10" x="632.5" y="780.9766"/><rect fill="#FFFFFF" height="161.5938" style="stroke:#A80036;stroke-width:1.0;" width="10" x="921" y="331.3906"/><rect fill="#FFFFFF" height="119.4609" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1071.5" y="618.3828"/><rect fill="#FFFFFF" height="386.2891" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1071.5" y="810.1094"/><rect fill="#D3D3D3" height="255.8906" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1076.5" y="890.375"/><rect fill="#FFFFFF" height="119.4609" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1348.5" y="934.5078"/><polygon fill="#A80036" points="337,114.5625,347,118.5625,337,122.5625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="43" x2="343" y1="118.5625" y2="118.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174" x="50" y="113.4966">Request transaction storno</text><polygon fill="#A80036" points="54,143.6953,44,147.6953,54,151.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="48" x2="348" y1="147.6953" y2="147.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="60" y="142.6294">Request received</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="2034.5" x="0" y="176.2617"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2034.5" y1="176.2617" y2="176.2617"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2034.5" y1="179.2617" y2="179.2617"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="172" x="931.25" y="165.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="153" x="937.25" y="181.7622">Administrator log in</text><polygon fill="#A80036" points="578,215.9609,588,219.9609,578,223.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="359" x2="584" y1="219.9609" y2="219.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="366" y="214.895">Open admin panel</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="590" y="243.8232">Admin Panel</text><path d="M617,202.8281 L617,226.8281 M617,214.8281 L634,214.8281 " fill="none" style="stroke:#A80036;stroke-width:2.0;"/><ellipse cx="646" cy="214.8281" fill="#FEFECE" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="370,259.125,360,263.125,370,267.125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="364" x2="636.5" y1="263.125" y2="263.125"/><polygon fill="#A80036" points="620.5,288.2578,630.5,292.2578,620.5,296.2578" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="359" x2="626.5" y1="292.2578" y2="292.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="38" x="366" y="287.1919">Log in</text><polygon fill="#A80036" points="857,317.3906,867,321.3906,857,325.3906" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="642.5" x2="863" y1="321.3906" y2="321.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="649.5" y="316.3247">Administrator log in request</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="869" y="345.2529">User Controller</text><ellipse cx="926" cy="316.2578" fill="#FEFECE" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="922,304.2578,928,299.2578,926,304.2578,928,309.2578,922,304.2578" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="931" x2="973" y1="379.6875" y2="379.6875"/><line style="stroke:#A80036;stroke-width:1.0;" x1="973" x2="973" y1="379.6875" y2="392.6875"/><line style="stroke:#A80036;stroke-width:1.0;" x1="932" x2="973" y1="392.6875" y2="392.6875"/><polygon fill="#A80036" points="942,388.6875,932,392.6875,942,396.6875" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="938" y="374.6216">Validate credentials</text><polygon fill="#A80036" points="1442.5,417.8203,1452.5,421.8203,1442.5,425.8203" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="931" x2="1448.5" y1="421.8203" y2="421.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159" x="938" y="416.7544">Check for user existence</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="1454.5" y="459.6826">User Database</text><path d="M1491,410.6875 C1491,400.6875 1509,400.6875 1509,400.6875 C1509,400.6875 1527,400.6875 1527,410.6875 L1527,436.6875 C1527,446.6875 1509,446.6875 1509,446.6875 C1509,446.6875 1491,446.6875 1491,436.6875 L1491,410.6875 " fill="#FEFECE" style="stroke:#000000;stroke-width:1.5;"/><path d="M1491,410.6875 C1491,420.6875 1509,420.6875 1509,420.6875 C1509,420.6875 1527,420.6875 1527,410.6875 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><polygon fill="#A80036" points="942,474.9844,932,478.9844,942,482.9844" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="936" x2="1508" y1="478.9844" y2="478.9844"/><polygon fill="#A80036" points="653.5,488.9844,643.5,492.9844,653.5,496.9844" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="647.5" x2="925" y1="492.9844" y2="492.9844"/><polygon fill="#A80036" points="370,502.9844,360,506.9844,370,510.9844" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="364" x2="636.5" y1="506.9844" y2="506.9844"/><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="2034.5" x="0" y="535.5508"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2034.5" y1="535.5508" y2="535.5508"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2034.5" y1="538.5508" y2="538.5508"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="178" x="928.25" y="524.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="159" x="934.25" y="541.0513">Storning transaction</text><polygon fill="#A80036" points="620.5,575.25,630.5,579.25,620.5,583.25" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="359" x2="626.5" y1="579.25" y2="579.25"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="230" x="366" y="574.1841">Open Customer's transactions page</text><polygon fill="#A80036" points="981,604.3828,991,608.3828,981,612.3828" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="642.5" x2="987" y1="608.3828" y2="608.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="649.5" y="603.3169">Get Customer's transactions</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="993" y="632.2451">Transaction Controller</text><ellipse cx="1076.5" cy="603.25" fill="#FEFECE" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="1072.5,591.25,1078.5,586.25,1076.5,591.25,1078.5,596.25,1072.5,591.25" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="1561.5,662.6797,1571.5,666.6797,1561.5,670.6797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1081.5" x2="1567.5" y1="666.6797" y2="666.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="1088.5" y="661.6138">Get Customer's transactions</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="156" x="1573.5" y="704.542">Transaction Database</text><path d="M1636.5,655.5469 C1636.5,645.5469 1654.5,645.5469 1654.5,645.5469 C1654.5,645.5469 1672.5,645.5469 1672.5,655.5469 L1672.5,681.5469 C1672.5,691.5469 1654.5,691.5469 1654.5,691.5469 C1654.5,691.5469 1636.5,691.5469 1636.5,681.5469 L1636.5,655.5469 " fill="#FEFECE" style="stroke:#000000;stroke-width:1.5;"/><path d="M1636.5,655.5469 C1636.5,665.5469 1654.5,665.5469 1654.5,665.5469 C1654.5,665.5469 1672.5,665.5469 1672.5,655.5469 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><polygon fill="#A80036" points="1092.5,719.8438,1082.5,723.8438,1092.5,727.8438" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1086.5" x2="1653.5" y1="723.8438" y2="723.8438"/><polygon fill="#A80036" points="653.5,733.8438,643.5,737.8438,653.5,741.8438" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="647.5" x2="1075.5" y1="737.8438" y2="737.8438"/><polygon fill="#A80036" points="370,747.8438,360,751.8438,370,755.8438" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="364" x2="636.5" y1="751.8438" y2="751.8438"/><polygon fill="#A80036" points="620.5,776.9766,630.5,780.9766,620.5,784.9766" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="359" x2="626.5" y1="780.9766" y2="780.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="366" y="775.9106">Storno the transaction</text><polygon fill="#A80036" points="1059.5,806.1094,1069.5,810.1094,1059.5,814.1094" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="642.5" x2="1065.5" y1="810.1094" y2="810.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174" x="649.5" y="805.0435">Request transaction storno</text><polygon fill="#A80036" points="1642.5,835.2422,1652.5,839.2422,1642.5,843.2422" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1081.5" x2="1648.5" y1="839.2422" y2="839.2422"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177" x="1088.5" y="834.1763">Get transaction information</text><polygon fill="#A80036" points="1092.5,849.2422,1082.5,853.2422,1092.5,857.2422" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1086.5" x2="1653.5" y1="853.2422" y2="853.2422"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1081.5" x2="1128.5" y1="877.375" y2="877.375"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1128.5" x2="1128.5" y1="877.375" y2="890.375"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1087.5" x2="1128.5" y1="890.375" y2="890.375"/><polygon fill="#A80036" points="1097.5,886.375,1087.5,890.375,1097.5,894.375" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="1093.5" y="872.3091">Create storno transaction</text><polygon fill="#A80036" points="1270.5,920.5078,1280.5,924.5078,1270.5,928.5078" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1086.5" x2="1276.5" y1="924.5078" y2="924.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172" x="1093.5" y="919.4419">Change accounts balances</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136" x="1282.5" y="948.3701">Account Controller</text><ellipse cx="1353.5" cy="919.375" fill="#FEFECE" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="1349.5,907.375,1355.5,902.375,1353.5,907.375,1355.5,912.375,1349.5,907.375" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="1733.5,978.8047,1743.5,982.8047,1733.5,986.8047" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1358.5" x2="1739.5" y1="982.8047" y2="982.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="1365.5" y="977.7388">Update accounts balances</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131" x="1745.5" y="1020.667">Account Database</text><path d="M1796,971.6719 C1796,961.6719 1814,961.6719 1814,961.6719 C1814,961.6719 1832,961.6719 1832,971.6719 L1832,997.6719 C1832,1007.6719 1814,1007.6719 1814,1007.6719 C1814,1007.6719 1796,1007.6719 1796,997.6719 L1796,971.6719 " fill="#FEFECE" style="stroke:#000000;stroke-width:1.5;"/><path d="M1796,971.6719 C1796,981.6719 1814,981.6719 1814,981.6719 C1814,981.6719 1832,981.6719 1832,971.6719 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><polygon fill="#A80036" points="1369.5,1035.9688,1359.5,1039.9688,1369.5,1043.9688" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1363.5" x2="1813" y1="1039.9688" y2="1039.9688"/><polygon fill="#A80036" points="1097.5,1049.9688,1087.5,1053.9688,1097.5,1057.9688" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1091.5" x2="1352.5" y1="1053.9688" y2="1053.9688"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1890.5" x2="1880.5" y1="1083.1016" y2="1079.1016"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1890.5" x2="1880.5" y1="1083.1016" y2="1087.1016"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1086.5" x2="1891.5" y1="1083.1016" y2="1083.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="1093.5" y="1078.0356">Log storno transaction creation</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121" x="1892.5" y="1120.9639">Transaction Logs</text><path d="M1938,1071.9688 C1938,1061.9688 1956,1061.9688 1956,1061.9688 C1956,1061.9688 1974,1061.9688 1974,1071.9688 L1974,1097.9688 C1974,1107.9688 1956,1107.9688 1956,1107.9688 C1956,1107.9688 1938,1107.9688 1938,1097.9688 L1938,1071.9688 " fill="#FEFECE" style="stroke:#000000;stroke-width:1.5;"/><path d="M1938,1071.9688 C1938,1081.9688 1956,1081.9688 1956,1081.9688 C1956,1081.9688 1974,1081.9688 1974,1071.9688 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1086.5" x2="1128.5" y1="1145.2656" y2="1145.2656"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1128.5" x2="1128.5" y1="1145.2656" y2="1158.2656"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1081.5" x2="1128.5" y1="1158.2656" y2="1158.2656"/><polygon fill="#A80036" points="1091.5,1154.2656,1081.5,1158.2656,1091.5,1162.2656" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1954" x2="1944" y1="1182.3984" y2="1178.3984"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1954" x2="1944" y1="1182.3984" y2="1186.3984"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1081.5" x2="1955" y1="1182.3984" y2="1182.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="230" x="1088.5" y="1177.3325">Log storning the original transaction</text><polygon fill="#A80036" points="653.5,1192.3984,643.5,1196.3984,653.5,1200.3984" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="647.5" x2="1075.5" y1="1196.3984" y2="1196.3984"/><polygon fill="#A80036" points="370,1206.3984,360,1210.3984,370,1214.3984" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="364" x2="636.5" y1="1210.3984" y2="1210.3984"/><line style="stroke:#A80036;stroke-width:1.0;" x1="43" x2="53" y1="1239.5313" y2="1235.5313"/><line style="stroke:#A80036;stroke-width:1.0;" x1="43" x2="53" y1="1239.5313" y2="1243.5313"/><line style="stroke:#A80036;stroke-width:1.0;" x1="43" x2="353" y1="1239.5313" y2="1239.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="282" x="60" y="1234.4653">Notify about successful transaction storning</text><!--MD5=[6382068f15ab76eb29fae38e63b14866]
@startuml
skinparam style strictuml
skinparam BoxPadding 10

actor Customer as user
actor Administrator as admin

box "Presentation Layer" #fefece
boundary "Admin Panel" as panel
end box

box "Application Layer" #SandyBrown
control "User Controller" as userc
control "Transaction Controller" as transactionc
control "Account Controller" as accountc
end box

box "Persistence Layer" #SkyBlue
database "User Database" as users
database "Transaction Database" as transactions
database "Account Database" as accounts
database "Transaction Logs" as logs
end box

user -> admin ++ : Request transaction storno
admin - -> user : Request received

== Administrator log in ==

create panel
admin -> panel : Open admin panel
panel - -> admin
admin -> panel ++ : Log in
create userc
panel -> userc ++ : Administrator log in request
userc -> userc : Validate credentials
create users
userc -> users : Check for user existence
users - -> userc
userc - -> panel - -
panel - -> admin - -

== Storning transaction ==

admin -> panel ++ : Open Customer's transactions page
create transactionc
panel -> transactionc ++ : Get Customer's transactions
create transactions
transactionc -> transactions : Get Customer's transactions
transactions - -> transactionc
transactionc - -> panel - -
panel - -> admin - -
admin -> panel ++ : Storno the transaction
panel -> transactionc ++ : Request transaction storno
transactionc -> transactions : Get transaction information
transactions - -> transactionc
transactionc -> transactionc ++ #LightGray : Create storno transaction
create accountc
transactionc -> accountc ++ : Change accounts balances
create accounts
accountc -> accounts : Update accounts balances
accounts - -> accountc
accountc - -> transactionc - -
create logs
transactionc ->> logs : Log storno transaction creation
transactionc - -> transactionc - -
transactionc ->> logs : Log storning the original transaction
transactionc - -> panel - -
panel - -> admin - -
admin ->> user - - : Notify about successful transaction storning
@enduml

PlantUML version 1.2021.15beta8(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>